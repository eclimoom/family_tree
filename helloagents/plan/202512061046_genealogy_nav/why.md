# 变更提案: 族谱列表与个人中心

## 需求背景
当前应用仅有族谱可视化展示，缺少族谱列表与“我的”入口。用户无法管理多个族谱或快速进入指定族谱，个人操作入口也缺失。

## 产品分析

### 目标用户与场景
- **用户群体:** 家族成员、族谱维护者
- **使用场景:** 管理多个族谱版本或分支，快速跳转查看；在移动端/桌面端查看个人中心和常用操作。
- **核心痛点:** 无法列出族谱、无法从列表跳转、缺少个人中心。

### 价值主张与成功指标
- **价值主张:** 通过列表+路由结构，提升族谱导航效率，减少用户操作步骤。
- **成功指标:** 1) 点击列表项可进入对应族谱详情；2) 新建族谱表单可提交并出现在列表；3) “我的”页可访问常用操作入口。

### 人文关怀
- 信息仅前端存储，避免暴露隐私；后续接入真实后端时需隐私与权限控制。

## 变更内容
1. 新增“族谱列表”功能：展示现有族谱、支持创建入口、点击跳转详情。
2. 新增“我的”页面：展示用户概要与操作入口（历史/创建/导入占位）。
3. 重构路由与导航：按 Angular 最佳实践拆分特性模块，调整 AppComponent 结构。

## 影响范围
- **模块:** Genealogy、TreeList、Profile
- **文件:** 路由配置、AppComponent、导航条、特性模块与视图文件
- **API:** 仍使用前端 mock 数据；预留接口契约
- **数据:** mock 数据结构需扩展族谱集合

## 核心场景

### 需求: 浏览族谱列表
**模块:** TreeList
展示族谱集合，点击条目进入详情。

#### 场景: 选择族谱
- 进入 /trees 列表页面
- 列表显示名称和成员数
- 点击跳转 /trees/:id，加载族谱详情

### 需求: 创建族谱
**模块:** TreeList
提供表单创建族谱，保存到前端内存列表。

#### 场景: 新建族谱
- 在 /trees 页面点击“创建族谱”
- 输入名称后提交，列表新增条目，可立即点击进入详情

### 需求: 我的入口
**模块:** Profile
显示用户概要，展示常用操作按钮（历史/创建/导入占位）。

#### 场景: 查看我的
- 进入 /me 页面
- 看到用户 ID/昵称与操作卡片

## 风险评估
- **路由重构风险:** 需确保旧链接正常工作；通过默认重定向到 /trees/:id 或 /trees。
- **数据一致性:** 创建族谱仅前端存储，刷新会丢失；需在 UI 提示（占位期）。
- **布局冲突:** 拆分导航与树容器时需验证 Cytoscape 渲染尺寸。
